{"ast":null,"code":"var _jsxFileName = \"D:\\\\GitHub\\\\CodingKirby-s-MacBook\\\\client\\\\src\\\\components\\\\apps\\\\Memo.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useAppState } from '../../contexts/AppContext';\nimport { useMemoContext } from '../../contexts/MemoContext';\nimport '../../styles/Memo.css';\nimport Container from '../common/Container';\nimport Modal from '../common/Modal';\nimport { ScrollArea } from '../common/ScrollArea';\nimport { Trash2, Type, AlignLeft, Grid, Share, PenBox } from 'lucide-react';\nimport SearchInput from './memo/SearchInput';\nimport FolderList from './memo/FolderList';\nimport MemoItem from './memo/MemoItem';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Memo = () => {\n  _s();\n  const {\n    apps\n  } = useAppState();\n  const {\n    memos,\n    folders,\n    selectedFolder,\n    selectedMemo,\n    searchQuery,\n    isCreating,\n    newMemo,\n    showPasswordModal,\n    showErrorModal,\n    setSearchQuery,\n    setSelectedFolder,\n    setMemos,\n    setSelectedMemo,\n    setIsCreating,\n    setNewMemo,\n    setShowPasswordModal,\n    setShowErrorModal,\n    createMemo,\n    deleteMemo,\n    resetMemoState,\n    resetMemoCreateState,\n    filteredMemos,\n    fetchFoldersAndSetFirstMemo,\n    fetchFoldersAndSetSelectedMemo\n  } = useMemoContext();\n  const memoAppState = apps['memo'];\n  const isRunning = memoAppState.isRunning;\n  const isMinimized = memoAppState.isMinimized;\n  const [isScrolled, setIsScrolled] = useState(false);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [deletePassword, setDeletePassword] = useState('');\n  const [showFailureModal, setShowFailureModal] = useState(false);\n  const [showSuccessModal, setShowSuccessModal] = useState(false);\n\n  // 앱 상태 변경 시 처리\n  useEffect(() => {\n    handleAppStateChange();\n  }, [isRunning, isMinimized]);\n  useEffect(() => {\n    if (isCreating) {\n      // 폴더 변경 시 새로운 폴더 ID를 반영하여 임시 메모를 생성\n      setNewMemo(prev => ({\n        ...prev,\n        folder_id: selectedFolder\n      }));\n    }\n  }, [selectedFolder, isCreating]);\n  const handleAppStateChange = () => {\n    if (!isRunning) resetMemoState();\n    if (isRunning && !isMinimized) {\n      fetchFoldersAndSetFirstMemo();\n      fetchFoldersAndSetSelectedMemo();\n    }\n  };\n  const handleResetMemo = () => {\n    resetMemoCreateState();\n    setSelectedMemo(memos.find(memo => memo.id !== 0 && memo.folder_id === selectedFolder) || null);\n  };\n  const handleCreateMemo = async () => {\n    await createMemo();\n  };\n  const handleAddTempMemo = () => {\n    setIsCreating(true);\n    const tempMemo = {\n      id: 0,\n      title: '새로운 메모',\n      content: '작성 중...',\n      date: new Date().toLocaleString(),\n      folder_id: selectedFolder\n    };\n\n    // 임시 메모를 최상단에 추가하면서 기존 메모들을 유지\n    setMemos(prevMemos => {\n      // 고정 메모(id === 1)를 유지하고 임시 메모를 최상단에 추가\n      const fixedMemos = prevMemos.filter(memo => memo.id === 1);\n      const otherMemos = prevMemos.filter(memo => memo.id !== 1 && memo.id !== 0);\n\n      // 임시 메모를 최상단에 추가하고 나머지 메모들을 뒤에 위치\n      return [tempMemo, ...fixedMemos, ...otherMemos];\n    });\n\n    // 임시 메모를 선택\n    setSelectedMemo(tempMemo);\n  };\n  const handleDeleteMemo = async (id, password) => {\n    const result = await deleteMemo(id.toString(), password);\n    setDeletePassword('');\n    if (result) {\n      setShowSuccessModal(true);\n\n      // 메모 삭제 후 선택된 폴더의 최신 메모 선택 (고정 메모 제외)\n      const updatedMemos = memos.filter(memo => memo.id !== id); // 삭제된 메모를 제외\n      setMemos(updatedMemos); // 최신 메모 목록 업데이트\n\n      const folderMemos = updatedMemos.filter(memo => memo.folder_id === selectedFolder && memo.id !== 1) // 고정 메모 제외\n      .sort((a, b) => b.id - a.id); // 최신 메모가 가장 앞에 오도록 정렬\n\n      setSelectedMemo(folderMemos.length > 0 ? folderMemos[0] : null); // 최신 메모 선택\n    } else {\n      setShowFailureModal(true);\n    }\n  };\n  const handleScroll = event => setIsScrolled(event.currentTarget.scrollTop > 50);\n  if (!isRunning || isMinimized) return null;\n  return /*#__PURE__*/_jsxDEV(Container, {\n    title: \"Memo\",\n    appName: \"memo\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"memo-container\",\n      children: [/*#__PURE__*/_jsxDEV(FolderList, {\n        folders: folders,\n        selectedFolder: selectedFolder,\n        setSelectedFolder: setSelectedFolder\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"notes-list\",\n        children: [/*#__PURE__*/_jsxDEV(SearchInput, {\n          searchQuery: searchQuery,\n          setSearchQuery: setSearchQuery\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ScrollArea, {\n          className: \"h-[calc(100vh-60px)]\",\n          children: filteredMemos.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"no-notes\",\n            children: \"\\uAC80\\uC0C9 \\uACB0\\uACFC\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 15\n          }, this) : filteredMemos.map(memo => /*#__PURE__*/_jsxDEV(MemoItem, {\n            memo: {\n              ...memo,\n              title: memo.title || '새로운 메모',\n              content: memo.content || '작성 중...'\n            },\n            isActive: (selectedMemo === null || selectedMemo === void 0 ? void 0 : selectedMemo.id) === memo.id,\n            setSelectedMemo: setSelectedMemo,\n            folders: folders\n          }, memo.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"memo-content\",\n        onScroll: handleScroll,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `memo-tools ${isScrolled ? 'scrolled' : ''}`,\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            padding: '0.5rem'\n          },\n          children: isCreating ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'flex-end',\n              width: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleResetMemo,\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa-solid fa-delete-left\",\n                style: {\n                  fontSize: '1.2rem',\n                  color: '#edbb4d'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                if (!newMemo.title || !newMemo.content) {\n                  setShowErrorModal(true);\n                } else {\n                  setShowPasswordModal(true);\n                }\n              },\n              style: {\n                marginLeft: 'auto'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa-solid fa-check\",\n                style: {\n                  fontSize: '1.2rem',\n                  color: newMemo.title && newMemo.content ? '#edbb4d' : 'gray'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  if (!(selectedMemo !== null && selectedMemo !== void 0 && selectedMemo.id)) return;\n                  setShowDeleteModal(true);\n                },\n                children: /*#__PURE__*/_jsxDEV(Trash2, {\n                  className: \"icon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 18\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 22\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"center-tools\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: /*#__PURE__*/_jsxDEV(Type, {\n                  className: \"icon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                children: /*#__PURE__*/_jsxDEV(AlignLeft, {\n                  className: \"icon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                children: /*#__PURE__*/_jsxDEV(Grid, {\n                  className: \"icon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: /*#__PURE__*/_jsxDEV(Share, {\n                  className: \"icon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleAddTempMemo,\n                children: /*#__PURE__*/_jsxDEV(PenBox, {\n                  className: \"icon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this), isCreating ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"\\uB2C9\\uB124\\uC784\\uC774\\uB098 \\uC81C\\uBAA9\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",\n            value: newMemo.title,\n            onChange: e => setNewMemo({\n              ...newMemo,\n              title: e.target.value\n            }),\n            className: \"create-memo-title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            placeholder: \"\\uBA54\\uBAA8 \\uB0B4\\uC6A9\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694.\",\n            value: newMemo.content,\n            onChange: e => setNewMemo({\n              ...newMemo,\n              content: e.target.value\n            }),\n            className: \"create-memo-content\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 15\n          }, this), showPasswordModal && /*#__PURE__*/_jsxDEV(Modal, {\n            title: \"\\uBE44\\uBC00\\uBC88\\uD638 \\uC785\\uB825\",\n            onClose: () => setShowPasswordModal(false),\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              placeholder: \"\\uC0AD\\uC81C \\uC2DC \\uC774\\uC6A9\\uD560 \\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",\n              value: newMemo.password,\n              onChange: e => setNewMemo({\n                ...newMemo,\n                password: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                gap: '1rem'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleCreateMemo,\n                children: \"\\uD655\\uC778\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setShowPasswordModal(false),\n                children: \"\\uCDE8\\uC18C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 17\n          }, this), showErrorModal && /*#__PURE__*/_jsxDEV(Modal, {\n            title: \"\\uC5D0\\uB7EC\",\n            onClose: () => setShowErrorModal(false),\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\uC81C\\uBAA9\\uACFC \\uB0B4\\uC6A9\\uC744 \\uC785\\uB825\\uD574 \\uC8FC\\uC138\\uC694\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowErrorModal(false),\n              children: \"\\uD655\\uC778\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 13\n        }, this) : selectedMemo && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold mb-4\",\n            children: selectedMemo.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"whitespace-pre-wrap\",\n            children: selectedMemo.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), showDeleteModal && /*#__PURE__*/_jsxDEV(Modal, {\n      title: \"\\uBA54\\uBAA8 \\uC0AD\\uC81C\",\n      onClose: () => setShowDeleteModal(false),\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",\n        value: deletePassword,\n        onChange: e => setDeletePassword(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: '1rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            handleDeleteMemo((selectedMemo === null || selectedMemo === void 0 ? void 0 : selectedMemo.id) || 0, deletePassword);\n            setDeletePassword('');\n            setShowDeleteModal(false);\n          },\n          children: \"\\uC0AD\\uC81C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setDeletePassword('');\n            setShowDeleteModal(false);\n          },\n          children: \"\\uCDE8\\uC18C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 9\n    }, this), showFailureModal && /*#__PURE__*/_jsxDEV(Modal, {\n      title: \"\\uBA54\\uBAA8 \\uC0AD\\uC81C \\uC2E4\\uD328\",\n      onClose: () => setShowFailureModal(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          justifyContent: 'center',\n          alignItems: 'center',\n          gap: '0.5rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            textAlign: 'left'\n          },\n          children: \"\\uBA54\\uBAA8\\uAC00 \\uC0AD\\uC81C\\uC5D0 \\uC2E4\\uD328\\uD588\\uC2B5\\uB2C8\\uB2E4.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowFailureModal(false),\n          children: \"\\uD655\\uC778\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 9\n    }, this), showSuccessModal && /*#__PURE__*/_jsxDEV(Modal, {\n      title: \"\\uBA54\\uBAA8 \\uC0AD\\uC81C \\uC644\\uB8CC\",\n      onClose: () => setShowDeleteModal(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          justifyContent: 'center',\n          alignItems: 'center',\n          gap: '0.5rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            textAlign: 'left'\n          },\n          children: \"\\uBA54\\uBAA8\\uAC00 \\uC131\\uACF5\\uC801\\uC73C\\uB85C \\uC0AD\\uC81C\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowSuccessModal(false),\n          children: \"\\uD655\\uC778\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 5\n  }, this);\n};\n_s(Memo, \"JWgmBJIBIdhGMcWS9ovB3FgGZZo=\", false, function () {\n  return [useAppState, useMemoContext];\n});\n_c = Memo;\nexport default Memo;\nvar _c;\n$RefreshReg$(_c, \"Memo\");","map":{"version":3,"names":["React","useState","useEffect","useAppState","useMemoContext","Container","Modal","ScrollArea","Trash2","Type","AlignLeft","Grid","Share","PenBox","SearchInput","FolderList","MemoItem","jsxDEV","_jsxDEV","Fragment","_Fragment","Memo","_s","apps","memos","folders","selectedFolder","selectedMemo","searchQuery","isCreating","newMemo","showPasswordModal","showErrorModal","setSearchQuery","setSelectedFolder","setMemos","setSelectedMemo","setIsCreating","setNewMemo","setShowPasswordModal","setShowErrorModal","createMemo","deleteMemo","resetMemoState","resetMemoCreateState","filteredMemos","fetchFoldersAndSetFirstMemo","fetchFoldersAndSetSelectedMemo","memoAppState","isRunning","isMinimized","isScrolled","setIsScrolled","showDeleteModal","setShowDeleteModal","deletePassword","setDeletePassword","showFailureModal","setShowFailureModal","showSuccessModal","setShowSuccessModal","handleAppStateChange","prev","folder_id","handleResetMemo","find","memo","id","handleCreateMemo","handleAddTempMemo","tempMemo","title","content","date","Date","toLocaleString","prevMemos","fixedMemos","filter","otherMemos","handleDeleteMemo","password","result","toString","updatedMemos","folderMemos","sort","a","b","length","handleScroll","event","currentTarget","scrollTop","appName","children","className","fileName","_jsxFileName","lineNumber","columnNumber","map","isActive","onScroll","style","display","justifyContent","padding","width","onClick","fontSize","color","marginLeft","type","placeholder","value","onChange","e","target","onClose","gap","flexDirection","alignItems","textAlign","_c","$RefreshReg$"],"sources":["D:/GitHub/CodingKirby-s-MacBook/client/src/components/apps/Memo.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useAppState } from '../../contexts/AppContext';\r\nimport { useMemoContext } from '../../contexts/MemoContext';\r\nimport '../../styles/Memo.css';\r\n\r\nimport Container from '../common/Container';\r\nimport Modal from '../common/Modal';\r\nimport { ScrollArea } from '../common/ScrollArea';\r\nimport { Trash2, Type, AlignLeft, Grid, Share, PenBox } from 'lucide-react';\r\n\r\nimport SearchInput from './memo/SearchInput';\r\nimport FolderList from './memo/FolderList';\r\nimport MemoItem from './memo/MemoItem';\r\n\r\n\r\nconst Memo: React.FC = () => {\r\n  const { apps } = useAppState();\r\n  const {\r\n    memos, folders, selectedFolder, selectedMemo, searchQuery,\r\n    isCreating, newMemo, showPasswordModal, showErrorModal,\r\n    setSearchQuery, setSelectedFolder, setMemos, setSelectedMemo, \r\n    setIsCreating, setNewMemo, setShowPasswordModal, setShowErrorModal,\r\n    createMemo, deleteMemo, resetMemoState, resetMemoCreateState,\r\n\r\n    filteredMemos, fetchFoldersAndSetFirstMemo, fetchFoldersAndSetSelectedMemo\r\n\r\n  } = useMemoContext();\r\n\r\n  const memoAppState = apps['memo'];\r\n  const isRunning = memoAppState.isRunning;\r\n  const isMinimized = memoAppState.isMinimized;\r\n  const [isScrolled, setIsScrolled] = useState(false);\r\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\r\n  const [deletePassword, setDeletePassword] = useState('');\r\n  const [showFailureModal, setShowFailureModal] = useState(false);\r\n  const [showSuccessModal, setShowSuccessModal] = useState(false);\r\n\r\n  // 앱 상태 변경 시 처리\r\n  useEffect(() => {\r\n    handleAppStateChange();\r\n  }, [isRunning, isMinimized]);\r\n\r\n  useEffect(() => {\r\n    if (isCreating) {\r\n      // 폴더 변경 시 새로운 폴더 ID를 반영하여 임시 메모를 생성\r\n      setNewMemo((prev) => ({ ...prev, folder_id: selectedFolder }));\r\n    }\r\n  }, [selectedFolder, isCreating]);  \r\n\r\n  const handleAppStateChange = () => {\r\n    if (!isRunning) resetMemoState();\r\n    if (isRunning && !isMinimized) {\r\n      fetchFoldersAndSetFirstMemo();\r\n      fetchFoldersAndSetSelectedMemo();\r\n    }\r\n  };\r\n\r\n  const handleResetMemo = () => {\r\n    resetMemoCreateState();\r\n    setSelectedMemo(\r\n      memos.find(memo => memo.id !== 0 && memo.folder_id === selectedFolder) || null\r\n    );\r\n  };\r\n  \r\n  const handleCreateMemo = async () => {\r\n    await createMemo();\r\n  };\r\n\r\n  const handleAddTempMemo = () => {\r\n    setIsCreating(true);\r\n    const tempMemo = {\r\n      id: 0,\r\n      title: '새로운 메모',\r\n      content: '작성 중...',\r\n      date: new Date().toLocaleString(),\r\n      folder_id: selectedFolder,\r\n    };\r\n  \r\n    // 임시 메모를 최상단에 추가하면서 기존 메모들을 유지\r\n    setMemos((prevMemos) => {\r\n      // 고정 메모(id === 1)를 유지하고 임시 메모를 최상단에 추가\r\n      const fixedMemos = prevMemos.filter(memo => memo.id === 1);\r\n      const otherMemos = prevMemos.filter(memo => memo.id !== 1 && memo.id !== 0);\r\n      \r\n      // 임시 메모를 최상단에 추가하고 나머지 메모들을 뒤에 위치\r\n      return [tempMemo, ...fixedMemos, ...otherMemos];\r\n    });\r\n  \r\n    // 임시 메모를 선택\r\n    setSelectedMemo(tempMemo);\r\n  };  \r\n  \r\n  const handleDeleteMemo = async (id: number, password: string) => {\r\n    const result = await deleteMemo(id.toString(), password);\r\n    setDeletePassword('');\r\n  \r\n    if (result) {\r\n      setShowSuccessModal(true);\r\n  \r\n      // 메모 삭제 후 선택된 폴더의 최신 메모 선택 (고정 메모 제외)\r\n      const updatedMemos = memos.filter(memo => memo.id !== id); // 삭제된 메모를 제외\r\n      setMemos(updatedMemos); // 최신 메모 목록 업데이트\r\n      \r\n      const folderMemos = updatedMemos\r\n        .filter(memo => memo.folder_id === selectedFolder && memo.id !== 1) // 고정 메모 제외\r\n        .sort((a, b) => b.id - a.id); // 최신 메모가 가장 앞에 오도록 정렬\r\n  \r\n      setSelectedMemo(folderMemos.length > 0 ? folderMemos[0] : null); // 최신 메모 선택\r\n    } else {\r\n      setShowFailureModal(true);\r\n    }\r\n  };  \r\n\r\n  const handleScroll = (event: React.UIEvent<HTMLDivElement>) => setIsScrolled(event.currentTarget.scrollTop > 50);\r\n\r\n  if (!isRunning || isMinimized) return null;\r\n\r\n  return (\r\n    <Container title=\"Memo\" appName=\"memo\">\r\n      <div className=\"memo-container\">\r\n        <FolderList folders={folders} selectedFolder={selectedFolder}\r\n        setSelectedFolder={setSelectedFolder}/>\r\n\r\n        <div className=\"notes-list\">\r\n          <SearchInput searchQuery={searchQuery} setSearchQuery={setSearchQuery} />\r\n          <ScrollArea className=\"h-[calc(100vh-60px)]\">\r\n            {filteredMemos.length === 0 ? (\r\n              <p className=\"no-notes\">검색 결과가 없습니다.</p>\r\n            ) : (\r\n              filteredMemos.map(memo => (\r\n                <MemoItem \r\n                  key={memo.id}\r\n                  memo={{\r\n                    ...memo,\r\n                    title: memo.title || '새로운 메모',\r\n                    content: memo.content || '작성 중...'\r\n                  }} \r\n                  isActive={selectedMemo?.id === memo.id} \r\n                  setSelectedMemo={setSelectedMemo} \r\n                  folders={folders} \r\n                />\r\n              ))\r\n            )}\r\n          </ScrollArea>\r\n        </div>\r\n\r\n        <div className=\"memo-content\" onScroll={handleScroll}>\r\n          <div className={`memo-tools ${isScrolled ? 'scrolled' : ''}`}\r\n          style={{ display: 'flex', justifyContent: 'space-between', padding: '0.5rem' }}>\r\n            {isCreating ? (\r\n              <div style={{ display: 'flex', justifyContent: 'flex-end', width: '100%' }}>\r\n                <button onClick={handleResetMemo}>\r\n                  <i className=\"fa-solid fa-delete-left\" style={{ fontSize: '1.2rem', color: '#edbb4d' }}></i>\r\n                </button>\r\n                <button onClick={() => {\r\n                  if (!newMemo.title || !newMemo.content) {\r\n                    setShowErrorModal(true);\r\n                  } else {\r\n                    setShowPasswordModal(true);\r\n                  }\r\n                }} style={{ marginLeft: 'auto' }}>\r\n                  <i className=\"fa-solid fa-check\" style={{ fontSize: '1.2rem', color: newMemo.title && newMemo.content ? '#edbb4d' : 'gray' }}></i>\r\n                </button>\r\n              </div>\r\n            ) : (\r\n              <>\r\n                <div><button\r\n                  onClick={() => {\r\n                    if (!selectedMemo?.id) return;\r\n                    setShowDeleteModal(true);\r\n                  }}\r\n                ><Trash2 className='icon' /></button></div>\r\n                <div className='center-tools'>\r\n                  <button><Type className='icon' /></button>\r\n                  <button><AlignLeft className='icon' /></button>\r\n                  <button><Grid className='icon' /></button>\r\n                </div>\r\n                <div>\r\n                  <button><Share className='icon' /></button>\r\n                  <button onClick={handleAddTempMemo}>\r\n                    <PenBox className='icon' />\r\n                  </button>\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n\r\n          {isCreating ? (\r\n            <div>\r\n              <input type=\"text\" placeholder=\"닉네임이나 제목을 입력해주세요\" value={newMemo.title}\r\n              onChange={(e) => setNewMemo({ ...newMemo, title: e.target.value })}\r\n              className='create-memo-title' />\r\n              <textarea placeholder=\"메모 내용을 입력하세요.\" value={newMemo.content}\r\n              onChange={(e) => setNewMemo({ ...newMemo, content: e.target.value })}\r\n              className='create-memo-content' />\r\n              \r\n              {showPasswordModal && (\r\n                <Modal title=\"비밀번호 입력\" onClose={() => setShowPasswordModal(false)}>\r\n                  <input type=\"password\" placeholder=\"삭제 시 이용할 비밀번호를 입력해주세요\" value={newMemo.password} onChange={(e) => setNewMemo({ ...newMemo, password: e.target.value })} />\r\n                  <div style={{ display: 'flex', gap: '1rem' }}>\r\n                    <button onClick={handleCreateMemo}>확인</button>\r\n                    <button onClick={() => setShowPasswordModal(false)}>취소</button>\r\n                  </div>\r\n                </Modal>\r\n              )}\r\n\r\n              {showErrorModal && (\r\n                <Modal title=\"에러\" onClose={() => setShowErrorModal(false)}>\r\n                  <p>제목과 내용을 입력해 주세요</p>\r\n                  <button onClick={() => setShowErrorModal(false)}>확인</button>\r\n                </Modal>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            selectedMemo && (\r\n              <>\r\n                <h2 className=\"text-2xl font-bold mb-4\">{selectedMemo.title}</h2>\r\n                <p className=\"whitespace-pre-wrap\">{selectedMemo.content}</p>\r\n              </>\r\n            )\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {showDeleteModal && (\r\n        <Modal title=\"메모 삭제\" onClose={() => setShowDeleteModal(false)}>\r\n          <input \r\n            type=\"password\"\r\n            placeholder=\"비밀번호를 입력해주세요\" \r\n            value={deletePassword} \r\n            onChange={(e) => setDeletePassword(e.target.value)} \r\n          />\r\n          <div\r\n            style={{ display: 'flex', gap: '1rem' }}\r\n          >\r\n            <button onClick={\r\n              () => {\r\n                handleDeleteMemo(selectedMemo?.id || 0, deletePassword);\r\n                setDeletePassword('');\r\n                setShowDeleteModal(false);\r\n              }\r\n            }>삭제</button>\r\n            <button onClick={() => {\r\n              setDeletePassword('');\r\n              setShowDeleteModal(false);\r\n            }}>취소</button>\r\n          </div>\r\n        </Modal>\r\n      )}\r\n\r\n      {showFailureModal && (\r\n        <Modal title=\"메모 삭제 실패\" onClose={() => setShowFailureModal(false)}>\r\n          <div\r\n            style={{\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              justifyContent: 'center',\r\n              alignItems: 'center',\r\n              gap: '0.5rem'\r\n            }}\r\n          >\r\n            <p\r\n              style={{ textAlign: 'left' }}\r\n            >메모가 삭제에 실패했습니다.</p>\r\n            <button onClick={() => setShowFailureModal(false)}>확인</button>\r\n          </div>\r\n          \r\n        </Modal>\r\n      )}\r\n\r\n      {showSuccessModal && (\r\n        <Modal title=\"메모 삭제 완료\" onClose={() => setShowDeleteModal(false)}>\r\n          <div\r\n            style={{\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              justifyContent: 'center',\r\n              alignItems: 'center',\r\n              gap: '0.5rem'\r\n            }}\r\n          >\r\n            <p\r\n              style={{ textAlign: 'left' }}\r\n            >메모가 성공적으로 삭제되었습니다.</p>\r\n            <button onClick={() => setShowSuccessModal(false)}>확인</button>\r\n          </div>\r\n          \r\n        </Modal>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Memo;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}