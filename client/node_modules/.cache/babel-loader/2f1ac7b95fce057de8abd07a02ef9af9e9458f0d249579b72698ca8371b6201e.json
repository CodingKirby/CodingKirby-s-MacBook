{"ast":null,"code":"var _jsxFileName = \"D:\\\\GitHub\\\\CodingKirby-s-MacBook\\\\client\\\\src\\\\contexts\\\\AppContext.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// Path: client/src/contexts/AppContext.tsx\n\nimport React, { createContext, useContext, useState, useCallback } from 'react';\n\n// Define app names and states\n\n// Define the structure of the context\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// Default initial states for all apps\nconst initialAppStates = {\n  finder: {\n    isRunning: true,\n    isMinimized: false,\n    zIndex: 1\n  },\n  music: {\n    isRunning: true,\n    isMinimized: false,\n    zIndex: 1\n  },\n  safari: {\n    isRunning: true,\n    isMinimized: false,\n    zIndex: 1\n  },\n  photos: {\n    isRunning: false,\n    isMinimized: false,\n    zIndex: 1\n  },\n  messages: {\n    isRunning: false,\n    isMinimized: false,\n    zIndex: 1\n  },\n  memo: {\n    isRunning: false,\n    isMinimized: false,\n    zIndex: 1\n  },\n  github: {\n    isRunning: false,\n    isMinimized: false,\n    zIndex: 1\n  },\n  blog: {\n    isRunning: false,\n    isMinimized: false,\n    zIndex: 1\n  },\n  notion: {\n    isRunning: false,\n    isMinimized: false,\n    zIndex: 1\n  },\n  mail: {\n    isRunning: false,\n    isMinimized: false,\n    zIndex: 1\n  },\n  share: {\n    isRunning: false,\n    isMinimized: false,\n    zIndex: 1\n  },\n  settings: {\n    isRunning: false,\n    isMinimized: false,\n    zIndex: 1\n  },\n  bin: {\n    isRunning: false,\n    isMinimized: false,\n    zIndex: 1\n  }\n};\n\n// Create context\nconst AppContext = /*#__PURE__*/createContext(undefined);\n\n// Custom hook to use the context\nexport const useAppState = () => {\n  _s();\n  const context = useContext(AppContext);\n  if (!context) {\n    throw new Error('useAppState must be used within AppStateProvider');\n  }\n  return context;\n};\n\n// Context provider component\n_s(useAppState, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport const AppStateProvider = ({\n  children\n}) => {\n  _s2();\n  const [apps, setApps] = useState(initialAppStates);\n  const bringAppToFront = useCallback(appName => {\n    // Step 1: Sort apps by zIndex to maintain the relative order\n    const sortedApps = Object.entries(apps).sort(([, a], [, b]) => a.zIndex - b.zIndex);\n\n    // Step 2: Reassign zIndex values, making the appName app the highest zIndex\n    setApps(prevState => {\n      const updatedApps = {\n        ...prevState\n      };\n      sortedApps.forEach(([name], index) => {\n        updatedApps[name].zIndex = index;\n      });\n      updatedApps[appName].zIndex = sortedApps.length; // Make the target app the highest\n      return updatedApps;\n    });\n  }, [apps]);\n  const toggleAppState = useCallback(appName => {\n    setApps(prevState => ({\n      ...prevState,\n      [appName]: {\n        ...prevState[appName],\n        isRunning: !prevState[appName].isRunning,\n        isMinimized: false // 항상 실행되면 최대화 상태로 변경\n      }\n    }));\n  }, []);\n  const toggleAppSize = useCallback(appName => {\n    setApps(prevState => ({\n      ...prevState,\n      [appName]: {\n        ...prevState[appName],\n        isMinimized: !prevState[appName].isMinimized\n      }\n    }));\n  }, []);\n  const closeApp = useCallback(appName => {\n    setApps(prevState => ({\n      ...prevState,\n      [appName]: {\n        ...prevState[appName],\n        isRunning: false\n      }\n    }));\n  }, []);\n  const openApp = useCallback(appName => {\n    setApps(prevState => ({\n      ...prevState,\n      [appName]: {\n        ...prevState[appName],\n        isRunning: true,\n        isMinimized: false\n      }\n    }));\n  }, []);\n  const maximizeApp = useCallback(appName => {\n    setApps(prevState => ({\n      ...prevState,\n      [appName]: {\n        ...prevState[appName],\n        isMinimized: false,\n        isMaximized: true // isMaximized 상태 추가\n      }\n    }));\n  }, []);\n  const minimizeApp = useCallback(appName => {\n    setApps(prevState => ({\n      ...prevState,\n      [appName]: {\n        ...prevState[appName],\n        isMinimized: true\n      }\n    }));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: {\n      apps,\n      toggleAppState,\n      toggleAppSize,\n      closeApp,\n      openApp,\n      minimizeApp,\n      maximizeApp,\n      bringAppToFront\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 155,\n    columnNumber: 5\n  }, this);\n};\n_s2(AppStateProvider, \"9N2oUxwvoTLgpHa/AJJ+qyiGcXo=\");\n_c = AppStateProvider;\nvar _c;\n$RefreshReg$(_c, \"AppStateProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useCallback","jsxDEV","_jsxDEV","initialAppStates","finder","isRunning","isMinimized","zIndex","music","safari","photos","messages","memo","github","blog","notion","mail","share","settings","bin","AppContext","undefined","useAppState","_s","context","Error","AppStateProvider","children","_s2","apps","setApps","bringAppToFront","appName","sortedApps","Object","entries","sort","a","b","prevState","updatedApps","forEach","name","index","length","toggleAppState","toggleAppSize","closeApp","openApp","maximizeApp","isMaximized","minimizeApp","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/GitHub/CodingKirby-s-MacBook/client/src/contexts/AppContext.tsx"],"sourcesContent":["// Path: client/src/contexts/AppContext.tsx\r\n\r\nimport React, { createContext, useContext, useState, ReactNode, useCallback } from 'react';\r\n\r\n// Define app names and states\r\nexport type AppName = \r\n  | 'finder'\r\n  | 'music'\r\n  | 'safari'\r\n  | 'photos'\r\n  | 'messages'\r\n  | 'memo'\r\n  | 'github'\r\n  | 'blog'\r\n  | 'notion'\r\n  | 'mail'\r\n  | 'share'\r\n  | 'settings'\r\n  | 'bin';\r\n\r\nexport type AppState = {\r\n  isRunning: boolean;\r\n  isMinimized: boolean;\r\n  zIndex: number;\r\n};\r\n\r\n// Define the structure of the context\r\ninterface AppContextType {\r\n  apps: Record<AppName, AppState>;\r\n  toggleAppState: (appName: AppName) => void;\r\n  toggleAppSize: (appName: AppName) => void;\r\n\r\n  closeApp: (appName: AppName) => void;\r\n  openApp: (appName: AppName) => void;\r\n\r\n  minimizeApp: (appName: AppName) => void;\r\n  maximizeApp: (appName: AppName) => void;\r\n\r\n  bringAppToFront: (appName: AppName) => void; // 앱을 맨 위로 올리는 함수\r\n}\r\n\r\n// Default initial states for all apps\r\nconst initialAppStates: Record<AppName, AppState> = {\r\n  finder: { isRunning: true, isMinimized: false, zIndex: 1 },\r\n  music: { isRunning: true, isMinimized: false, zIndex: 1 },\r\n  safari: { isRunning: true, isMinimized: false, zIndex: 1 },\r\n  photos: { isRunning: false, isMinimized: false, zIndex: 1 },\r\n  messages: { isRunning: false, isMinimized: false, zIndex: 1 },\r\n  memo: { isRunning: false, isMinimized: false, zIndex: 1 },\r\n  github: { isRunning: false, isMinimized: false, zIndex: 1 },\r\n  blog: { isRunning: false, isMinimized: false, zIndex: 1 },\r\n  notion: { isRunning: false, isMinimized: false, zIndex: 1 },\r\n  mail: { isRunning: false, isMinimized: false, zIndex: 1 },\r\n  share: { isRunning: false, isMinimized: false, zIndex: 1 },\r\n  settings: { isRunning: false, isMinimized: false, zIndex: 1 },\r\n  bin: { isRunning: false, isMinimized: false, zIndex: 1 },\r\n};\r\n\r\n// Create context\r\nconst AppContext = createContext<AppContextType | undefined>(undefined);\r\n\r\n// Custom hook to use the context\r\nexport const useAppState = () => {\r\n  const context = useContext(AppContext);\r\n  if (!context) {\r\n    throw new Error('useAppState must be used within AppStateProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\n// Context provider component\r\nexport const AppStateProvider: React.FC<{ children: ReactNode }> = ({ children }) => {\r\n  const [apps, setApps] = useState<Record<AppName, AppState>>(initialAppStates);\r\n\r\n  const bringAppToFront = useCallback((appName: AppName) => {\r\n    // Step 1: Sort apps by zIndex to maintain the relative order\r\n    const sortedApps = Object.entries(apps).sort(([, a], [, b]) => a.zIndex - b.zIndex);\r\n  \r\n    // Step 2: Reassign zIndex values, making the appName app the highest zIndex\r\n    setApps(prevState => {\r\n      const updatedApps = { ...prevState };\r\n      sortedApps.forEach(([name], index) => {\r\n        updatedApps[name as AppName].zIndex = index;\r\n      });\r\n      updatedApps[appName].zIndex = sortedApps.length; // Make the target app the highest\r\n      return updatedApps;\r\n    });\r\n  }, [apps]);  \r\n\r\n  const toggleAppState = useCallback((appName: AppName) => {\r\n    setApps((prevState) => ({\r\n      ...prevState,\r\n      [appName]: {\r\n        ...prevState[appName],\r\n        isRunning: !prevState[appName].isRunning,\r\n        isMinimized: false, // 항상 실행되면 최대화 상태로 변경\r\n      },\r\n    }));\r\n  }, []);\r\n\r\n  const toggleAppSize = useCallback((appName: AppName) => {\r\n    setApps((prevState) => ({\r\n      ...prevState,\r\n      [appName]: {\r\n        ...prevState[appName],\r\n        isMinimized: !prevState[appName].isMinimized,\r\n      },\r\n    }));\r\n  }, []);\r\n\r\n  const closeApp = useCallback((appName: AppName) => {\r\n    setApps((prevState) => ({\r\n      ...prevState,\r\n      [appName]: {\r\n        ...prevState[appName],\r\n        isRunning: false,\r\n      },\r\n    }));\r\n  }, []);\r\n\r\n  const openApp = useCallback((appName: AppName) => {\r\n    setApps((prevState) => ({\r\n      ...prevState,\r\n      [appName]: {\r\n        ...prevState[appName],\r\n        isRunning: true,\r\n        isMinimized: false,\r\n      },\r\n    }));\r\n  }, []);\r\n\r\n  const maximizeApp = useCallback((appName: AppName) => {\r\n    setApps((prevState) => ({\r\n      ...prevState,\r\n      [appName]: {\r\n        ...prevState[appName],\r\n        isMinimized: false,\r\n        isMaximized: true,  // isMaximized 상태 추가\r\n      },\r\n    }));\r\n  }, []);\r\n  \r\n\r\n  const minimizeApp = useCallback((appName: AppName) => {\r\n    setApps((prevState) => ({\r\n      ...prevState,\r\n      [appName]: {\r\n        ...prevState[appName],\r\n        isMinimized: true,\r\n      },\r\n    }));\r\n  }, []);\r\n\r\n  return (\r\n    <AppContext.Provider value={{ apps,\r\n    toggleAppState, toggleAppSize,\r\n    closeApp, openApp, minimizeApp, maximizeApp, bringAppToFront }}>\r\n      {children}\r\n    </AppContext.Provider>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}