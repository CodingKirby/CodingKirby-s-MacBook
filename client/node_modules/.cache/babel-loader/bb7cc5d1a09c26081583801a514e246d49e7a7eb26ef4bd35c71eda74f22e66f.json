{"ast":null,"code":"var _jsxFileName = \"D:\\\\GitHub\\\\CodingKirby-s-MacBook\\\\client\\\\src\\\\pages\\\\LoadingPage.tsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useRef } from 'react';\nimport '@fortawesome/fontawesome-free/css/all.min.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoadingPage = () => {\n  _s();\n  const [progress, setProgress] = useState(0);\n  const isInteractedRef = useRef(false); // useRef로 isInteracted 상태 관리\n  const mp3Url = process.env.REACT_APP_SFX_URL;\n  useEffect(() => {\n    let timer;\n    let audio;\n\n    // 사용자 상호작용 후 오디오를 재생합니다.\n    const startLoading = () => {\n      if (!isInteractedRef.current) {\n        isInteractedRef.current = true; // isInteracted 상태를 useRef로 설정\n        audio = new Audio(`${mp3Url}/mac-startup.mp3`); // 오디오 파일 경로 설정\n\n        audio.play().catch(error => {\n          console.error('Audio playback failed:', error);\n        });\n        timer = setInterval(() => {\n          setProgress(oldProgress => {\n            if (oldProgress === 100) {\n              clearInterval(timer);\n              audio.pause(); // 로딩이 끝나면 소리를 멈춥니다.\n              window.location.href = '/desktop';\n              return 100;\n            }\n            return oldProgress + 2;\n          });\n        }, 50);\n      }\n    };\n\n    // 페이지 클릭 시 로딩을 시작합니다.\n    document.addEventListener('click', startLoading);\n\n    // 컴포넌트가 언마운트될 때 오디오와 타이머를 정리합니다.\n    return () => {\n      clearInterval(timer);\n      if (audio) audio.pause();\n      document.removeEventListener('click', startLoading);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      width: '100vw',\n      height: '100vh',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center',\n      backgroundColor: '#000'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n      className: \"fa-brands fa-apple\",\n      style: {\n        fontSize: '10rem',\n        color: '#fff',\n        filter: 'drop-shadow(0 0 0.3rem #fff)',\n        marginBottom: '2rem'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '10rem',\n        height: '0.5rem',\n        backgroundColor: '#333',\n        borderRadius: '0.5rem',\n        overflow: 'hidden',\n        boxShadow: '0 0 0.5rem #fff'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: `${progress}%`,\n          height: '100%',\n          backgroundColor: '#fff',\n          transition: 'width 0.1s ease-out'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), !isInteractedRef.current && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: '#fff',\n        marginTop: '2rem'\n      },\n      children: \"\\uD074\\uB9AD\\uD558\\uC5EC \\uB85C\\uB529\\uC744 \\uC2DC\\uC791\\uD558\\uC138\\uC694\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n_s(LoadingPage, \"odeeOELla6PfenkQPOlge+EDTXo=\");\n_c = LoadingPage;\nexport default LoadingPage;\nvar _c;\n$RefreshReg$(_c, \"LoadingPage\");","map":{"version":3,"names":["useState","useEffect","useRef","jsxDEV","_jsxDEV","LoadingPage","_s","progress","setProgress","isInteractedRef","mp3Url","process","env","REACT_APP_SFX_URL","timer","audio","startLoading","current","Audio","play","catch","error","console","setInterval","oldProgress","clearInterval","pause","window","location","href","document","addEventListener","removeEventListener","style","display","width","height","flexDirection","alignItems","justifyContent","backgroundColor","children","className","fontSize","color","filter","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","borderRadius","overflow","boxShadow","transition","marginTop","_c","$RefreshReg$"],"sources":["D:/GitHub/CodingKirby-s-MacBook/client/src/pages/LoadingPage.tsx"],"sourcesContent":["import { useState, useEffect, useRef } from 'react';\r\nimport '@fortawesome/fontawesome-free/css/all.min.css';\r\n\r\nconst LoadingPage = () => {\r\n  const [progress, setProgress] = useState(0);\r\n  const isInteractedRef = useRef(false); // useRef로 isInteracted 상태 관리\r\n  const mp3Url = process.env.REACT_APP_SFX_URL;\r\n\r\n  useEffect(() => {\r\n    let timer: NodeJS.Timeout | undefined;\r\n    let audio: HTMLAudioElement;\r\n\r\n    // 사용자 상호작용 후 오디오를 재생합니다.\r\n    const startLoading = () => {\r\n      if (!isInteractedRef.current) {\r\n        isInteractedRef.current = true; // isInteracted 상태를 useRef로 설정\r\n        audio = new Audio(`${mp3Url}/mac-startup.mp3`); // 오디오 파일 경로 설정\r\n\r\n        audio.play().catch((error) => {\r\n          console.error('Audio playback failed:', error);\r\n        });\r\n\r\n        timer = setInterval(() => {\r\n          setProgress((oldProgress) => {\r\n            if (oldProgress === 100) {\r\n              clearInterval(timer);\r\n              audio.pause(); // 로딩이 끝나면 소리를 멈춥니다.\r\n              window.location.href = '/desktop';\r\n              return 100;\r\n            }\r\n            return oldProgress + 2;\r\n          });\r\n        }, 50);\r\n      }\r\n    };\r\n\r\n    // 페이지 클릭 시 로딩을 시작합니다.\r\n    document.addEventListener('click', startLoading);\r\n\r\n    // 컴포넌트가 언마운트될 때 오디오와 타이머를 정리합니다.\r\n    return () => {\r\n      clearInterval(timer);\r\n      if (audio) audio.pause();\r\n      document.removeEventListener('click', startLoading);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        display: 'flex',\r\n        width: '100vw',\r\n        height: '100vh',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        backgroundColor: '#000',\r\n      }}\r\n    >\r\n      <i\r\n        className=\"fa-brands fa-apple\"\r\n        style={{\r\n          fontSize: '10rem',\r\n          color: '#fff',\r\n          filter: 'drop-shadow(0 0 0.3rem #fff)',\r\n          marginBottom: '2rem',\r\n        }}\r\n      />\r\n      <div\r\n        style={{\r\n          width: '10rem',\r\n          height: '0.5rem',\r\n          backgroundColor: '#333',\r\n          borderRadius: '0.5rem',\r\n          overflow: 'hidden',\r\n          boxShadow: '0 0 0.5rem #fff',\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            width: `${progress}%`,\r\n            height: '100%',\r\n            backgroundColor: '#fff',\r\n            transition: 'width 0.1s ease-out',\r\n          }}\r\n        />\r\n      </div>\r\n      {!isInteractedRef.current && (\r\n        <p style={{ color: '#fff', marginTop: '2rem' }}>클릭하여 로딩을 시작하세요</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoadingPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}